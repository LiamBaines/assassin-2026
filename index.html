<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Assassin Briefing</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <style>
    body {
      background: black;
      color: #EF5A98;
      font-family: 'Orbitron', monospace;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }
    .terminal {
      border: 2px solid #EF5A98;
      padding: 30px;
      text-align: center;
      box-shadow: 0 0 20px #EF5A98;
      max-width: 600px;
    }
    h1, p {
      margin: 0.5em 0;
    }
  </style>
</head>
<body>
<div class="terminal">
    <h1 id="greeting"></h1>
    <p id="target"></p>
</div>

<script>
  function decodeBase64Json(b64) {
    try {
      const json = decodeURIComponent(
        atob(b64).split("").map(c =>
          "%" + c.charCodeAt(0).toString(16).padStart(2, "0")
        ).join("")
      );
      return JSON.parse(json);
    } catch {
      return null;
    }
  }

  const params = new URLSearchParams(window.location.search);
  const dataParam = params.get("data");

  const g = document.getElementById("greeting");
  const t = document.getElementById("target");

  if (!dataParam) {
    g.innerText = "INVALID BRIEFING";
    t.innerText = "Missing data parameter.";
  } else {
    const decoded = decodeBase64Json(dataParam);

    if (!decoded || !decoded.assassin || !decoded.target) {
      g.innerText = "CORRUPTED BRIEFING";
      t.innerText = "Data could not be decoded.";
    } else {
      g.innerText = `Hello ${decoded.assassin}.`;
      t.innerText = `Your target is ${decoded.target}.`;
    }
  }
</script>
</body>
</html>
